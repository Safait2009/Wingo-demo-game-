<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wingo Live - Safait</title>
    <style>
        :root { --gold: #ffeb3b; --green: #4caf50; --red: #f44336; }
        body { background: #1a1a1a; color: white; font-family: Arial; text-align: center; margin: 0; padding-bottom: 50px; }
        .header { background: linear-gradient(180deg, #2e7d32, #1b5e20); padding: 20px; border-radius: 0 0 20px 20px; }
        .balance { font-size: 32px; font-weight: bold; margin: 10px 0; }
        .game-card { background: #262626; margin: 15px; padding: 15px; border-radius: 12px; border: 1px solid #444; }
        .timer-val { font-size: 28px; font-weight: bold; color: var(--gold); }
        
        .tab-section { background: #222; margin: 15px; padding: 10px; border-radius: 10px; }
        table { width: 100%; border-collapse: collapse; font-size: 13px; }
        th { color: #888; border-bottom: 1px solid #333; padding: 10px; }
        td { padding: 10px; border-bottom: 1px solid #1a1a1a; }
        
        .result-circle { width: 25px; height: 25px; line-height: 25px; border-radius: 50%; display: inline-block; font-weight: bold; font-size: 12px; color: white; }
        .bg-green { background: var(--green); }
        .bg-red { background: var(--red); }
        .bg-violet { background: #9c27b0; }
    </style>
</head>
<body onload="initGame()">

    <div class="header">
        <div style="font-size: 14px; opacity: 0.8;">Wallet Balance</div>
        <div class="balance">৳ <span id="balance">1000.00</span></div>
        <button onclick="deposit()" style="background: var(--gold); border: none; padding: 10px 25px; border-radius: 20px; font-weight: bold; cursor: pointer;">Deposit</button>
    </div>

    <div class="game-card">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <div style="text-align:left;">Period<br><b id="period">20260105001</b></div>
            <div style="text-align:right;">Time Left<br><span id="timer" class="timer-val">00:30</span></div>
        </div>
        
        <p style="color: #888; font-size: 12px;">Bet on Color, Size or Number</p>
        <button onclick="placeBet('Big')" style="padding:10px 40px; background:#e67e22; border:none; color:white; border-radius:5px; font-weight:bold; cursor:pointer;">Big</button>
        <button onclick="placeBet('Small')" style="padding:10px 40px; background:#3498db; border:none; color:white; border-radius:5px; font-weight:bold; cursor:pointer;">Small</button>
    </div>

    <div class="tab-section">
        <h3 style="margin: 0; color: var(--gold); font-size: 16px;">Game History (Previous Rounds)</h3>
        <table>
            <thead>
                <tr>
                    <th>Period</th>
                    <th>Number</th>
                    <th>Size</th>
                    <th>Color</th>
                </tr>
            </thead>
            <tbody id="marketHistory">
                </tbody>
        </table>
    </div>

    <script>
        let balance = 1000.00;
        let timeLeft = 30;
        let currentPeriod = 20260105150; // একটা বড় নম্বর থেকে শুরু
        let gameResults = [];

        function initGame() {
            // ১. গেমে ঢোকা মাত্রই ১০টি ডেমো রেজাল্ট তৈরি করবে
            for(let i=10; i>0; i--) {
                generateFakeResult(currentPeriod - i);
            }
            renderMarket();
            startTimer();
        }

        function generateFakeResult(pId) {
            let num = Math.floor(Math.random() * 10);
            let size = num >= 5 ? "Big" : "Small";
            let colorClass = (num % 2 === 0) ? "bg-red" : "bg-green";
            if(num === 0 || num === 5) colorClass = "bg-violet";

            gameResults.unshift({ p: pId, n: num, s: size, c: colorClass });
        }

        function renderMarket() {
            let html = "";
            gameResults.slice(0, 10).forEach(res => {
                html += `<tr>
                    <td>${res.p}</td>
                    <td><span class="result-circle ${res.c}">${res.n}</span></td>
                    <td>${res.s}</td>
                    <td>${res.c.replace('bg-', '')}</td>
                </tr>`;
            });
            document.getElementById('marketHistory').innerHTML = html;
        }

        function startTimer() {
            setInterval(() => {
                if (timeLeft <= 0) {
                    // নতুন রেজাল্ট যোগ করা
                    generateFakeResult(currentPeriod);
                    currentPeriod++;
                    document.getElementById('period').innerText = currentPeriod;
                    timeLeft = 30;
                    renderMarket();
                }
                let s = timeLeft < 10 ? "0" + timeLeft : timeLeft;
                document.getElementById('timer').innerText = "00:" + s;
                timeLeft--;
            }, 1000);
        }

        function deposit() {
            let amt = prompt("Amount:", "1000");
            if(amt) { balance += parseFloat(amt); document.getElementById('balance').innerText = balance.toFixed(2); }
        }

        function placeBet(type) {
            alert(type + " বেট সিস্টেম কাজ করছে! ব্যালেন্স থেকে টাকা কাটবে।");
        }
    </script>
</body>
</html>
